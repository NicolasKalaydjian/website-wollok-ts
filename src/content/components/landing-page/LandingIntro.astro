---
import { Code, TabItem, Tabs } from "@astrojs/starlight/components";
import CallToAction from "@astrojs/starlight/components/CallToAction.astro";
import pepitaExamplePath from "./pepita.txt?raw";
import { Image } from 'astro:assets';
import wollokDiagram from '/src/assets/wollok-lsp-diagram.png';
---

<div>
  <div class="intro-container">
    <div class="welcome">
      <h1>Wollok</h1>
      <p id="wollok-intro-subtitle">Aprendiendo a programar con objetos</p>
      <div class="actions">
        <CallToAction
          link="./getting_started/installation"
          variant="primary"
          icon={{ type: "icon", name: "rocket" }}
          attrs={{title: "Instalate Wollok en tu máquina en breves pasos siguiendo este link"}}
        >
          Instalar
        </CallToAction>
        <CallToAction link="./documentation/language" variant="secondary" attrs={{title: "Si estás buscando cómo implementar un concepto o ayuda sobre los mensajes que podés mandar a un objeto, seguí este link"}}>
          Documentación
        </CallToAction>
        <CallToAction link="https://youtu.be/AwkKZ41U6WE" variant="secondary" attrs={{title: "Acá Fer nos trae una demo Wollok en VSCode usando la versión 0.2.0"}}>
          Video Tutorial
        </CallToAction>
      </div>
    </div>
    <div class="hide-mobile pepita-example">
      <Tabs>
        <TabItem label="Código">
          <Code code={pepitaExamplePath} lang="wollok" />
        </TabItem>
        <TabItem label="Diagrama">
          <Image src={wollokDiagram} alt="El diagrama dinámico permite visualizar el estado de tus objetos en tiempo real."/>
        </TabItem>
      </Tabs>
    </div>
  </div>
</div>

<style>
  .intro-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-direction: row;
    padding: 2rem;
    gap: 15px;
    height: 35%;
  }

  #wollok-intro-subtitle {
    margin-top: 0;
    font-size: 1.3rem;
  }

  .actions {
    display: flex;
    flex-direction: row;
    gap: 1rem;
  }

  .pepita-example {
    width: 55%;
    height: 100%;
    margin: 0 !important;
  }

  .action {
    justify-content: center;
  }

  @media (max-width: 50em) {
    #wollok-intro-subtitle {
      text-align: center;
    }
    .intro-container {
      justify-content: center;
    }

    .actions {
      flex-direction: column;
    }

    .intro-container .welcome h1 {
      text-align: center;
    }

    .welcome {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
  }
</style>
